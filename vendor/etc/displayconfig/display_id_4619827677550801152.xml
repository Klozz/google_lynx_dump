<?xml version='1.0' encoding='utf-8' standalone='yes' ?>

<!-- Copyright (C) 2022 Google Inc.

    Licensed under the Apache License, Version 2.0 (the "License");
    you may not use this file except in compliance with the License.
    You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
-->

<displayConfiguration>
    <screenBrightnessMap>
        <point>
            <value>0.0</value>
            <nits>2.0</nits>
        </point>
        <point>
            <value>0.5</value>
            <nits>500.0</nits>
        </point>
        <point>
            <value>1.0</value>
            <nits>1000.0</nits>
        </point>
    </screenBrightnessMap>

    <highBrightnessMode enabled="true">
        <transitionPoint>0.5</transitionPoint>
        <minimumLux>4720.75775264</minimumLux>
        <timing>
            <!-- allow for 5 minutes out of every 30 minutes -->
            <timeWindowSecs>1800</timeWindowSecs>
            <timeMaxSecs>300</timeMaxSecs>
            <timeMinSecs>60</timeMinSecs>
        </timing>
        <minimumHdrPercentOfScreen>0.5</minimumHdrPercentOfScreen>
        <allowInLowPowerMode>false</allowInLowPowerMode>
        <!--sdrHdrRatioMap, backed by spline, must have at least two entries -->
        <sdrHdrRatioMap>
            <point>
                <sdrNits>2.000</sdrNits>
                <hdrRatio>8.000</hdrRatio>
            </point>
            <point>
                <sdrNits>62.500</sdrNits>
                <hdrRatio>7.984</hdrRatio>
            </point>
            <point>
                <sdrNits>65.717</sdrNits>
                <hdrRatio>7.593</hdrRatio>
            </point>
            <point>
                <sdrNits>68.934</sdrNits>
                <hdrRatio>7.239</hdrRatio>
            </point>
            <point>
                <sdrNits>72.152</sdrNits>
                <hdrRatio>6.916</hdrRatio>
            </point>
            <point>
                <sdrNits>75.369</sdrNits>
                <hdrRatio>6.621</hdrRatio>
            </point>
            <point>
                <sdrNits>78.586</sdrNits>
                <hdrRatio>6.350</hdrRatio>
            </point>
            <point>
                <sdrNits>81.803</sdrNits>
                <hdrRatio>6.100</hdrRatio>
            </point>
            <point>
                <sdrNits>85.020</sdrNits>
                <hdrRatio>5.869</hdrRatio>
            </point>
            <point>
                <sdrNits>88.237</sdrNits>
                <hdrRatio>5.655</hdrRatio>
            </point>
            <point>
                <sdrNits>91.455</sdrNits>
                <hdrRatio>5.456</hdrRatio>
            </point>
            <point>
                <sdrNits>94.672</sdrNits>
                <hdrRatio>5.271</hdrRatio>
            </point>
            <point>
                <sdrNits>97.889</sdrNits>
                <hdrRatio>5.098</hdrRatio>
            </point>
            <point>
                <sdrNits>101.106</sdrNits>
                <hdrRatio>4.935</hdrRatio>
            </point>
            <point>
                <sdrNits>104.323</sdrNits>
                <hdrRatio>4.783</hdrRatio>
            </point>
            <point>
                <sdrNits>107.540</sdrNits>
                <hdrRatio>4.640</hdrRatio>
            </point>
            <point>
                <sdrNits>110.758</sdrNits>
                <hdrRatio>4.505</hdrRatio>
            </point>
            <point>
                <sdrNits>113.975</sdrNits>
                <hdrRatio>4.378</hdrRatio>
            </point>
            <point>
                <sdrNits>117.192</sdrNits>
                <hdrRatio>4.258</hdrRatio>
            </point>
            <point>
                <sdrNits>120.409</sdrNits>
                <hdrRatio>4.144</hdrRatio>
            </point>
            <point>
                <sdrNits>123.626</sdrNits>
                <hdrRatio>4.036</hdrRatio>
            </point>
            <point>
                <sdrNits>126.843</sdrNits>
                <hdrRatio>3.934</hdrRatio>
            </point>
            <point>
                <sdrNits>130.061</sdrNits>
                <hdrRatio>3.837</hdrRatio>
            </point>
            <point>
                <sdrNits>133.278</sdrNits>
                <hdrRatio>3.744</hdrRatio>
            </point>
            <point>
                <sdrNits>136.495</sdrNits>
                <hdrRatio>3.656</hdrRatio>
            </point>
            <point>
                <sdrNits>139.712</sdrNits>
                <hdrRatio>3.572</hdrRatio>
            </point>
            <point>
                <sdrNits>142.929</sdrNits>
                <hdrRatio>3.491</hdrRatio>
            </point>
            <point>
                <sdrNits>146.146</sdrNits>
                <hdrRatio>3.414</hdrRatio>
            </point>
            <point>
                <sdrNits>149.364</sdrNits>
                <hdrRatio>3.341</hdrRatio>
            </point>
            <point>
                <sdrNits>152.581</sdrNits>
                <hdrRatio>3.270</hdrRatio>
            </point>
            <point>
                <sdrNits>155.798</sdrNits>
                <hdrRatio>3.203</hdrRatio>
            </point>
            <point>
                <sdrNits>159.015</sdrNits>
                <hdrRatio>3.138</hdrRatio>
            </point>
            <point>
                <sdrNits>162.232</sdrNits>
                <hdrRatio>3.076</hdrRatio>
            </point>
            <point>
                <sdrNits>165.449</sdrNits>
                <hdrRatio>3.016</hdrRatio>
            </point>
            <point>
                <sdrNits>168.667</sdrNits>
                <hdrRatio>2.958</hdrRatio>
            </point>
            <point>
                <sdrNits>171.884</sdrNits>
                <hdrRatio>2.903</hdrRatio>
            </point>
            <point>
                <sdrNits>175.101</sdrNits>
                <hdrRatio>2.850</hdrRatio>
            </point>
            <point>
                <sdrNits>178.318</sdrNits>
                <hdrRatio>2.798</hdrRatio>
            </point>
            <point>
                <sdrNits>181.535</sdrNits>
                <hdrRatio>2.749</hdrRatio>
            </point>
            <point>
                <sdrNits>184.753</sdrNits>
                <hdrRatio>2.701</hdrRatio>
            </point>
            <point>
                <sdrNits>187.970</sdrNits>
                <hdrRatio>2.655</hdrRatio>
            </point>
            <point>
                <sdrNits>191.187</sdrNits>
                <hdrRatio>2.610</hdrRatio>
            </point>
            <point>
                <sdrNits>194.404</sdrNits>
                <hdrRatio>2.567</hdrRatio>
            </point>
            <point>
                <sdrNits>197.621</sdrNits>
                <hdrRatio>2.525</hdrRatio>
            </point>
            <point>
                <sdrNits>200.838</sdrNits>
                <hdrRatio>2.485</hdrRatio>
            </point>
            <point>
                <sdrNits>204.056</sdrNits>
                <hdrRatio>2.445</hdrRatio>
            </point>
            <point>
                <sdrNits>207.273</sdrNits>
                <hdrRatio>2.407</hdrRatio>
            </point>
            <point>
                <sdrNits>210.490</sdrNits>
                <hdrRatio>2.371</hdrRatio>
            </point>
            <point>
                <sdrNits>213.707</sdrNits>
                <hdrRatio>2.335</hdrRatio>
            </point>
            <point>
                <sdrNits>216.924</sdrNits>
                <hdrRatio>2.300</hdrRatio>
            </point>
            <point>
                <sdrNits>220.141</sdrNits>
                <hdrRatio>2.267</hdrRatio>
            </point>
            <point>
                <sdrNits>223.359</sdrNits>
                <hdrRatio>2.234</hdrRatio>
            </point>
            <point>
                <sdrNits>226.576</sdrNits>
                <hdrRatio>2.202</hdrRatio>
            </point>
            <point>
                <sdrNits>229.793</sdrNits>
                <hdrRatio>2.172</hdrRatio>
            </point>
            <point>
                <sdrNits>233.010</sdrNits>
                <hdrRatio>2.142</hdrRatio>
            </point>
            <point>
                <sdrNits>236.227</sdrNits>
                <hdrRatio>2.112</hdrRatio>
            </point>
            <point>
                <sdrNits>239.444</sdrNits>
                <hdrRatio>2.084</hdrRatio>
            </point>
            <point>
                <sdrNits>242.662</sdrNits>
                <hdrRatio>2.056</hdrRatio>
            </point>
            <point>
                <sdrNits>245.879</sdrNits>
                <hdrRatio>2.029</hdrRatio>
            </point>
            <point>
                <sdrNits>249.096</sdrNits>
                <hdrRatio>2.003</hdrRatio>
            </point>
            <point>
                <sdrNits>252.313</sdrNits>
                <hdrRatio>1.978</hdrRatio>
            </point>
            <point>
                <sdrNits>255.530</sdrNits>
                <hdrRatio>1.953</hdrRatio>
            </point>
            <point>
                <sdrNits>258.747</sdrNits>
                <hdrRatio>1.929</hdrRatio>
            </point>
            <point>
                <sdrNits>261.965</sdrNits>
                <hdrRatio>1.905</hdrRatio>
            </point>
            <point>
                <sdrNits>265.182</sdrNits>
                <hdrRatio>1.882</hdrRatio>
            </point>
            <point>
                <sdrNits>268.399</sdrNits>
                <hdrRatio>1.859</hdrRatio>
            </point>
            <point>
                <sdrNits>271.616</sdrNits>
                <hdrRatio>1.837</hdrRatio>
            </point>
            <point>
                <sdrNits>274.833</sdrNits>
                <hdrRatio>1.816</hdrRatio>
            </point>
            <point>
                <sdrNits>278.051</sdrNits>
                <hdrRatio>1.795</hdrRatio>
            </point>
            <point>
                <sdrNits>281.268</sdrNits>
                <hdrRatio>1.774</hdrRatio>
            </point>
            <point>
                <sdrNits>284.485</sdrNits>
                <hdrRatio>1.754</hdrRatio>
            </point>
            <point>
                <sdrNits>287.702</sdrNits>
                <hdrRatio>1.734</hdrRatio>
            </point>
            <point>
                <sdrNits>290.919</sdrNits>
                <hdrRatio>1.715</hdrRatio>
            </point>
            <point>
                <sdrNits>294.136</sdrNits>
                <hdrRatio>1.696</hdrRatio>
            </point>
            <point>
                <sdrNits>297.354</sdrNits>
                <hdrRatio>1.678</hdrRatio>
            </point>
            <point>
                <sdrNits>300.571</sdrNits>
                <hdrRatio>1.660</hdrRatio>
            </point>
            <point>
                <sdrNits>303.788</sdrNits>
                <hdrRatio>1.643</hdrRatio>
            </point>
            <point>
                <sdrNits>307.005</sdrNits>
                <hdrRatio>1.625</hdrRatio>
            </point>
            <point>
                <sdrNits>310.222</sdrNits>
                <hdrRatio>1.609</hdrRatio>
            </point>
            <point>
                <sdrNits>313.439</sdrNits>
                <hdrRatio>1.592</hdrRatio>
            </point>
            <point>
                <sdrNits>316.657</sdrNits>
                <hdrRatio>1.576</hdrRatio>
            </point>
            <point>
                <sdrNits>319.874</sdrNits>
                <hdrRatio>1.560</hdrRatio>
            </point>
            <point>
                <sdrNits>323.091</sdrNits>
                <hdrRatio>1.544</hdrRatio>
            </point>
            <point>
                <sdrNits>326.308</sdrNits>
                <hdrRatio>1.529</hdrRatio>
            </point>
            <point>
                <sdrNits>329.525</sdrNits>
                <hdrRatio>1.514</hdrRatio>
            </point>
            <point>
                <sdrNits>332.742</sdrNits>
                <hdrRatio>1.500</hdrRatio>
            </point>
            <point>
                <sdrNits>335.960</sdrNits>
                <hdrRatio>1.485</hdrRatio>
            </point>
            <point>
                <sdrNits>339.177</sdrNits>
                <hdrRatio>1.471</hdrRatio>
            </point>
            <point>
                <sdrNits>342.394</sdrNits>
                <hdrRatio>1.457</hdrRatio>
            </point>
            <point>
                <sdrNits>345.611</sdrNits>
                <hdrRatio>1.444</hdrRatio>
            </point>
            <point>
                <sdrNits>348.828</sdrNits>
                <hdrRatio>1.431</hdrRatio>
            </point>
            <point>
                <sdrNits>352.045</sdrNits>
                <hdrRatio>1.417</hdrRatio>
            </point>
            <point>
                <sdrNits>355.263</sdrNits>
                <hdrRatio>1.405</hdrRatio>
            </point>
            <point>
                <sdrNits>358.480</sdrNits>
                <hdrRatio>1.392</hdrRatio>
            </point>
            <point>
                <sdrNits>361.697</sdrNits>
                <hdrRatio>1.380</hdrRatio>
            </point>
            <point>
                <sdrNits>364.914</sdrNits>
                <hdrRatio>1.367</hdrRatio>
            </point>
            <point>
                <sdrNits>368.131</sdrNits>
                <hdrRatio>1.355</hdrRatio>
            </point>
            <point>
                <sdrNits>371.348</sdrNits>
                <hdrRatio>1.344</hdrRatio>
            </point>
            <point>
                <sdrNits>374.566</sdrNits>
                <hdrRatio>1.332</hdrRatio>
            </point>
            <point>
                <sdrNits>377.783</sdrNits>
                <hdrRatio>1.321</hdrRatio>
            </point>
            <point>
                <sdrNits>381.000</sdrNits>
                <hdrRatio>1.310</hdrRatio>
            </point>
            <point>
                <sdrNits>387.263</sdrNits>
                <hdrRatio>1.357</hdrRatio>
            </point>
            <point>
                <sdrNits>393.526</sdrNits>
                <hdrRatio>1.402</hdrRatio>
            </point>
            <point>
                <sdrNits>399.789</sdrNits>
                <hdrRatio>1.446</hdrRatio>
            </point>
            <point>
                <sdrNits>406.053</sdrNits>
                <hdrRatio>1.489</hdrRatio>
            </point>
            <point>
                <sdrNits>412.316</sdrNits>
                <hdrRatio>1.530</hdrRatio>
            </point>
            <point>
                <sdrNits>418.579</sdrNits>
                <hdrRatio>1.570</hdrRatio>
            </point>
            <point>
                <sdrNits>424.842</sdrNits>
                <hdrRatio>1.609</hdrRatio>
            </point>
            <point>
                <sdrNits>431.105</sdrNits>
                <hdrRatio>1.647</hdrRatio>
            </point>
            <point>
                <sdrNits>437.368</sdrNits>
                <hdrRatio>1.684</hdrRatio>
            </point>
            <point>
                <sdrNits>443.632</sdrNits>
                <hdrRatio>1.719</hdrRatio>
            </point>
            <point>
                <sdrNits>449.895</sdrNits>
                <hdrRatio>1.754</hdrRatio>
            </point>
            <point>
                <sdrNits>456.158</sdrNits>
                <hdrRatio>1.788</hdrRatio>
            </point>
            <point>
                <sdrNits>462.421</sdrNits>
                <hdrRatio>1.820</hdrRatio>
            </point>
            <point>
                <sdrNits>468.684</sdrNits>
                <hdrRatio>1.852</hdrRatio>
            </point>
            <point>
                <sdrNits>474.947</sdrNits>
                <hdrRatio>1.883</hdrRatio>
            </point>
            <point>
                <sdrNits>481.211</sdrNits>
                <hdrRatio>1.914</hdrRatio>
            </point>
            <point>
                <sdrNits>487.474</sdrNits>
                <hdrRatio>1.943</hdrRatio>
            </point>
            <point>
                <sdrNits>493.737</sdrNits>
                <hdrRatio>1.972</hdrRatio>
            </point>
            <point>
                <sdrNits>500.000</sdrNits>
                <hdrRatio>2.000</hdrRatio>
            </point>
        </sdrHdrRatioMap>
    </highBrightnessMode>

    <screenBrightnessRampIncreaseMaxMillis>2000</screenBrightnessRampIncreaseMaxMillis>

    <ambientBrightnessChangeThresholds>
        <brighteningThresholds>
            <minimum>10</minimum>
        </brighteningThresholds>
        <darkeningThresholds>
            <minimum>0</minimum>
        </darkeningThresholds>
    </ambientBrightnessChangeThresholds>

    <ambientLightHorizonLong>5000</ambientLightHorizonLong>
    <ambientLightHorizonShort>50</ambientLightHorizonShort>

    <thermalThrottling>
        <brightnessThrottlingMap>
            <brightnessThrottlingPoint>
                <thermalStatus>light</thermalStatus>
                <!-- Throttling to 465 nits: (465-2.0)/(500-2.0)*(0.5-0.0)+0.0 = 0.464859438 -->
                <brightness>0.464859438</brightness>
            </brightnessThrottlingPoint>
            <brightnessThrottlingPoint>
                <thermalStatus>moderate</thermalStatus>
                <!-- Throttling to 297 nits: (297-2.0)/(500-2.0)*(0.5-0.0)+0.0 = 0.296184739 -->
                <brightness>0.296184739</brightness>
            </brightnessThrottlingPoint>
            <brightnessThrottlingPoint>
                <thermalStatus>severe</thermalStatus>
                <!-- Throttling to 213 nits: (213-2.0)/(500-2.0)*(0.5-0.0)+0.0 = 0.211847389 -->
                <brightness>0.211847389</brightness>
            </brightnessThrottlingPoint>
            <brightnessThrottlingPoint>
                <thermalStatus>critical</thermalStatus>
                <!-- Throttling to 150 nits: (150-2.0)/(500-2.0)*(0.5-0.0)+0.0 = 0.148594378 -->
                <brightness>0.148594378</brightness>
            </brightnessThrottlingPoint>
        </brightnessThrottlingMap>
    </thermalThrottling>

    <screenBrightnessRampFastDecrease>0.7047244</screenBrightnessRampFastDecrease>
    <screenBrightnessRampFastIncrease>0.7047244</screenBrightnessRampFastIncrease>
    <screenBrightnessRampSlowDecrease>0.05</screenBrightnessRampSlowDecrease>
    <screenBrightnessRampSlowIncrease>0.05</screenBrightnessRampSlowIncrease>

    <screenOffBrightnessSensor>
        <type>com.google.sensor.binned_brightness</type>
    </screenOffBrightnessSensor>
    <screenOffBrightnessSensorValueToLux>
        <item>-1</item> <!-- 0: OFF -->
        <item>0</item>  <!-- 1: NIGHT -->
        <item>5</item>  <!-- 2: LOW -->
        <item>80</item> <!-- 3: HIGH -->
        <item>1500</item> <!-- 4: SUN -->
    </screenOffBrightnessSensorValueToLux>
</displayConfiguration>

